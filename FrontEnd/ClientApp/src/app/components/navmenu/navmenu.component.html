<nav class="navbar fixed-top navbar-expand-md navbar-light bg-white">
    <button class="navbar-toggler" type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse offset-md-1 col-md-9" id="navbarSupportedContent">

        <ul class="navbar-nav mr-auto">
            <li [routerLinkActive]="['link-active']">
                <a class="navbar-brand" [routerLink]="['/home']">
                    SharedMem
                </a>
            </li>
            <li class="nav-item active"
                [routerLinkActive]="['link-active']">
                <a class="nav-link" [routerLink]="['/home']">
                    <i class="fas fa-home"></i>
                    Home
                </a>
            </li>
            <li class="nav-item"
                [routerLinkActive]="['link-active']">
                <a class="nav-link" [routerLink]="['/add-question-form']">
                    <i class="far fa-edit"></i>
                    Ask
                </a>
            </li>
        </ul>
        <ul class="navbar-nav">
            <li class="nav-item dropdown"
                [routerLinkActive]="['link-active']">
                <div class="notification-parent">
                    <a [ngClass]="{'nav-link': true, 'notification-badge': notifications.length, 'pointer-cursor': true}"
                       attr.data-badge={{notifications.length}}
                       (click)="toggleNotification()">
                        <i class="far fa-bell"></i>
                        Notifications
                    </a>
                    <div class="notification-popover" 
                         *ngIf="isNotificationsVisible">
                        <notification-popover [notifications]="notifications"
                                              (notificationDismissed)="onNotificationDismissed()"
                                              (notificationClicked)="onNotificationClicked($event)"
                                              (notificationAllMarkedSeen)="onNotificationAllMarkedSeen()">
                        </notification-popover>
                    </div>
                </div>
            </li>

            <li class="nav-item"
                *ngIf="user"
                [routerLinkActive]="['link-active']">
                <a class="nav-link" [routerLink]="['/profile']">
                    <i class="far fa-user"></i>
                    {{user.name}}
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link"
                   [routerLink]="['/home']"
                   (click)="logoutClick()">
                    Logout
                </a>
            </li>
        </ul>
    </div>

</nav>

<script>
$(document).ready(function(){
    $('[data-toggle="popover"]').popover();
});
</script>
